{"version":3,"sources":["webpack:///./src/views/Auth.vue?5968","webpack:///./src/views/Auth.vue?9e38","webpack:///./src/views/Auth.vue","webpack:///./src/views/Auth.vue?9a24","webpack:///./src/views/Auth.vue?f61c","webpack:///./src/assets/register.jpg","webpack:///./src/assets/login.jpg","webpack:///./node_modules/vue-google-login/dist/vue-google-login.min.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","isLogin","attrs","ref","model","value","callback","$$v","valid","expression","emailRules","userEmail","passwordRules","userPassword","_e","rePasswordRules","reUserPassword","on","submitHandler","reset","resetValidation","params","renderParams","onSuccess","onFailure","switchHandler","staticRenderFns","name","components","GoogleLogin","props","root","document","readyState","$store","dispatch","loadingStatus","window","onload","myForm","v","length","client_id","width","height","longtitle","async","token","googleUser","uc","id_token","result","type","tokenAndPassword","password","isSuccess","$swal","fire","title","confirmButtonColor","icon","padding","background","moveToAnimalsList","showToast","setTimeout","text","toast","timer","position","error","message","toString","graphQLErrors","console","log","validate","userToAuthFields","loginUser","createUser","includes","$router","push","component","module","exports","t","e","n","i","Promise","resolve","onGapiLoad","gapi","load","auth2","init","Object","assign","err","o","reject","r","all","getElementById","createElement","setAttribute","head","appendChild","then","signIn","signOut","isSignedIn","currentUser","grantOfflineAccess","s","u","c","d","a","l","options","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","f","h","beforeCreate","concat","logoutButton","id","click","handleClick","_t","required","onCurrentUser","Function","default","Boolean","methods","catch","mounted","signin2","install","GoogleAuth","LoaderPlugin","defineProperty"],"mappings":"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","file":"js/auth.8fc3525e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=style&index=0&id=12f23878&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=style&index=0&id=12f23878&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"page-title\"},[_vm._v(_vm._s(_vm.isLogin ? \"Login\" : \"Register\"))]),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"1032\"}},[_c('v-list-item',[_c('v-list-item-avatar',{attrs:{\"color\":\"grey\"}})],1),(_vm.isLogin)?_c('v-img',{attrs:{\"src\":require(\"@/assets/login.jpg\"),\"alt\":\"Avatar\",\"max-height\":\"150\"}}):_c('v-img',{attrs:{\"src\":require(\"@/assets/register.jpg\"),\"alt\":\"Avatar\",\"max-height\":\"150\"}}),_c('v-form',{ref:\"myForm\",staticClass:\"mb-4\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"counter\":30,\"rules\":_vm.emailRules,\"type\":\"email\",\"label\":\"Email\",\"required\":\"\"},model:{value:(_vm.userEmail),callback:function ($$v) {_vm.userEmail=$$v},expression:\"userEmail\"}}),_c('v-text-field',{attrs:{\"counter\":30,\"rules\":_vm.passwordRules,\"type\":\"password\",\"label\":\"Password\",\"required\":\"\"},model:{value:(_vm.userPassword),callback:function ($$v) {_vm.userPassword=$$v},expression:\"userPassword\"}}),(!_vm.isLogin)?_c('v-text-field',{attrs:{\"counter\":30,\"rules\":_vm.rePasswordRules,\"type\":\"password\",\"label\":\"Confirm password\",\"required\":\"\"},model:{value:(_vm.reUserPassword),callback:function ($$v) {_vm.reUserPassword=$$v},expression:\"reUserPassword\"}}):_vm._e(),_c('v-btn',{staticClass:\"auth-btn\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\",\"width\":\"100%\",\"max-width\":\"130\"},on:{\"click\":_vm.submitHandler}},[_vm._v(\" \"+_vm._s(_vm.isLogin ? \"Login\" : \"Register\")+\" \")]),_c('v-btn',{staticClass:\"reset-form-btn\",attrs:{\"color\":\"error\",\"width\":\"100%\",\"max-width\":\"130\"},on:{\"click\":_vm.reset}},[_vm._v(\" Reset Form \")]),_c('v-btn',{staticClass:\"reset-validation-btn\",attrs:{\"color\":\"warning\",\"width\":\"100%\",\"max-width\":\"178\"},on:{\"click\":_vm.resetValidation}},[_vm._v(\" Reset Validation \")]),(_vm.isLogin)?_c('p',{staticClass:\"or-title\"},[_vm._v(\"Or:\")]):_c('p',{staticClass:\"or-title\"},[_vm._v(\"Or link password:\")]),_c('GoogleLogin',{staticClass:\"google-signin-btn-wrapper\",attrs:{\"params\":_vm.params,\"renderParams\":_vm.renderParams,\"onSuccess\":_vm.onSuccess,\"onFailure\":_vm.onFailure}}),_c('p',{staticClass:\"or-title\"},[_vm._v(\"Or:\")]),_c('v-btn',{staticClass:\"switch-to-register-btn\",attrs:{\"color\":\"info\",\"width\":\"100%\",\"max-width\":\"198\"},on:{\"click\":_vm.switchHandler}},[_vm._v(\" Switch to \"+_vm._s(_vm.isLogin ? \"register\" : \"login\")+\" \")]),(_vm.isLogin)?_c('div',[_c('p',{staticClass:\"page-sub-title\"},[_vm._v(\"For demo use only:\")]),_c('p',{staticClass:\"page-sub-title\"},[_c('span',[_vm._v(\"Email: demo@demo.com\")]),_vm._v(\", \"),_c('span',[_vm._v(\"Password: demouser\")])])]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// @ts-nocheck\n\nimport {\n  defineComponent,\n  onMounted,\n  reactive,\n  ref,\n} from \"@vue/composition-api\";\nimport GoogleLogin from \"vue-google-login\";\n\nexport default defineComponent({\n  name: \"Auth\",\n  components: {\n    GoogleLogin,\n  },\n  setup(props, { root }) {\n    //check if i can put the code of mount and before mount in some function and only call it in all the component instead duplicate code.\n    if (document.readyState !== \"complete\") {\n      root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n    }\n\n    onMounted(() => {\n      window.onload = function () {\n        root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n      };\n    });\n\n    //Later try to set that when the edit page is loaded that the values of the controls will not be empty -\n    // but with the current animal's details from the db - all the time, even on refresh or loading from url directly.\n    const userEmail = ref(\"\");\n    const userPassword = ref(\"\");\n    const reUserPassword = ref(\"\");\n    // const newAnimalImageUrl = ref(\"\");\n    const isLogin = ref(true);\n    const myForm = ref(null);\n    const valid = ref(true);\n    const name = ref(\"\");\n\n    //Add full password and email validation for registration.\n\n    const emailRules = reactive([\n      (v) => !!v || \"Email is required\",\n      (v) => (v && v.length <= 30) || \"Email must be less than 30 characters\",\n    ]);\n    const passwordRules = reactive([\n      (v) => !!v || \"Password is required\",\n      (v) =>\n        (v && v.length <= 30) || \"Password must be less than 30 characters\",\n    ]);\n    const rePasswordRules = reactive([\n      (v) => !!v || \"Confirm password is required\",\n      (v) =>\n        v === userPassword.value || \"The password confirmation does not match.\",\n    ]);\n\n    //Start - Google login area\n    //get secret or clinet id from backend later!:\n    const params = reactive({\n      client_id:\n        \"525617387179-qpf4t5s671j058shidk8c8ap9brdvhhe.apps.googleusercontent.com\",\n    });\n\n    const renderParams = reactive({\n      width: 250,\n      height: 50,\n      longtitle: true,\n    });\n\n    const onSuccess = async (googleUser) => {\n      const token = googleUser.uc.id_token;\n\n      //try moving the flow all the way to db just with using the ggogle token and the clip\n      // so i can crEATE the user or get it from the db and return a token anyhow to local storage a\n      //should work like regular maybe.. at least make it work..\n\n      // This only gets the user information: id, name, imageUrl and email\n\n      root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n      try {\n        let result;\n\n        if (isLogin.value) {\n          result = await root.$store.dispatch({\n            type: \"signinOrSignupGoogle\",\n            token,\n          });\n        } else {\n          const tokenAndPassword = { token, password: userPassword.value };\n\n          result = await root.$store.dispatch({\n            type: \"linkPassword\",\n            tokenAndPassword,\n          });\n        }\n\n        if (!result.isSuccess) {\n          root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n\n          return root.$swal.fire({\n            title: \"Wrong credentials!\",\n            confirmButtonColor: \"red\",\n            icon: \"warning\",\n            width: 600,\n            padding: \"3em\",\n            background: \"#fff\",\n          });\n        }\n\n        moveToAnimalsList();\n\n        if (result.showToast) {\n          setTimeout(() => {\n            root.$swal.fire({\n              text: \"You can also login with your password\",\n              toast: true,\n              timer: 3000,\n              position: \"bottom\",\n              width: 600,\n              padding: \"3em\",\n              background: \"#fff\",\n            });\n          }, 2000);\n        }\n      } catch (error) {\n        root.$swal.fire({\n          title: \"Error:\",\n          // text: error.message.toString(),\n          text:\n            error.message.toString() +\n            \" \" +\n            error.toString() +\n            \" \" +\n            error.graphQLErrors.toString(),\n          confirmButtonColor: \"red\",\n          icon: \"warning\",\n          width: 600,\n          padding: \"3em\",\n          background: \"#fff\",\n        });\n      }\n      root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n    };\n\n    const onFailure = () => {\n      console.log(\"error: \");\n    };\n\n    //End - Google login area\n\n    const submitHandler = () => {\n      //Make a new service file for importing the functions here from the file for more separation and order.\n      const valid = myForm.value.validate();\n      if (valid) {\n        const userToAuthFields = {\n          userEmail: userEmail.value,\n          userPassword: userPassword.value,\n        };\n\n        if (isLogin.value) {\n          loginUser(userToAuthFields);\n        } else {\n          createUser(userToAuthFields);\n          //add register code and make sure o log in the user after signup correctly with token and all without\n          //need for unnessesary login.\n        }\n      }\n    };\n\n    const reset = () => {\n      myForm.value.reset();\n    };\n\n    const resetValidation = () => {\n      myForm.value.resetValidation();\n    };\n\n    const switchHandler = () => {\n      isLogin.value = !isLogin.value;\n    };\n\n    const loginUser = async (userToAuthFields) => {\n      root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n      try {\n        const result = await root.$store.dispatch({\n          type: \"loginUser\",\n          userToAuthFields,\n        });\n\n        if (!result) {\n          root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n\n          return root.$swal.fire({\n            title: \"Wrong credentials!\",\n            confirmButtonColor: \"red\",\n            icon: \"warning\",\n            width: 600,\n            padding: \"3em\",\n            background: \"#fff\",\n          });\n        }\n\n        setTimeout(() => {\n          root.$swal.fire({\n            text: \"You can also login with google\",\n            toast: true,\n            timer: 3000,\n            position: \"bottom\",\n            width: 600,\n            padding: \"3em\",\n            background: \"#fff\",\n          });\n        }, 2000);\n\n        moveToAnimalsList();\n      } catch (error) {\n        if (error.message.toString().includes(\"Wrong credentials!\")) {\n          root.$swal.fire({\n            title: \"Wrong credentials!\",\n            confirmButtonColor: \"red\",\n            icon: \"warning\",\n            width: 600,\n            padding: \"3em\",\n            background: \"#fff\",\n          });\n        } else {\n          root.$swal.fire({\n            // title: \"Error: login failed!\",\n            // text: \"Please try again at a later time.\",\n            text: error.message.toString(),\n            confirmButtonColor: \"#D62E1F\",\n            icon: \"error\",\n            width: 600,\n            padding: \"3em\",\n            background: \"#fff\",\n          });\n        }\n      }\n      root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n    };\n\n    const createUser = async (userToAuthFields) => {\n      root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n      try {\n        const result = await root.$store.dispatch({\n          type: \"createUser\",\n          userToAuthFields,\n        });\n\n        if (!result) {\n          root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n\n          return root.$swal.fire({\n            title: \"Error: login for new registered user failed!\",\n            text: \"Please try again at a later time.\",\n            // text: error.message.toString(),\n            confirmButtonColor: \"red\",\n            icon: \"warning\",\n            width: 600,\n            padding: \"3em\",\n            background: \"#fff\",\n          });\n        }\n\n        moveToAnimalsList();\n      } catch (error) {\n        root.$swal.fire({\n          title: \"Error: register failed!\",\n          // text: \"Please try again at a later time.\",\n          text: error.message.toString(),\n          confirmButtonColor: \"#D62E1F\",\n          icon: \"error\",\n          width: 600,\n          padding: \"3em\",\n          background: \"#fff\",\n        });\n      }\n      root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n    };\n\n    //use it from a global function later cause it's in more than one component.\n    const moveToAnimalsList = () => {\n      root.$router.push({\n        name: \"AnimalsList\",\n      });\n    };\n\n    return {\n      userEmail,\n      userPassword,\n      reUserPassword,\n      isLogin,\n      myForm,\n      valid,\n      name,\n      emailRules,\n      passwordRules,\n      rePasswordRules,\n      params,\n      renderParams,\n      onSuccess,\n      onFailure,\n      submitHandler,\n      loginUser,\n      createUser,\n      reset,\n      resetValidation,\n      switchHandler,\n      // updateLoginState,\n      moveToAnimalsList,\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Auth.vue?vue&type=template&id=12f23878&scoped=true&\"\nimport script from \"./Auth.vue?vue&type=script&lang=ts&\"\nexport * from \"./Auth.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Auth.vue?vue&type=style&index=0&id=12f23878&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12f23878\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/register.e3ace350.jpg\";","module.exports = __webpack_public_path__ + \"img/login.5e32f028.jpg\";","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=t||self)[\"vue-google-login\"]={})}(this,(function(t){\"use strict\";var e,n,i=function(t){return e?Promise.resolve(e):(n||(n=function(t){return new Promise((function(n,i){window.onGapiLoad=function(){window.gapi.load(\"auth2\",(function(){try{e=window.gapi.auth2.init(Object.assign({},t))}catch(t){i({err:\"client_id missing or is incorrect, or if you added extra params maybe they are written incorrectly, did you add it to the component or plugin?\"})}n(e)}))}}))}(t)),n)},o=function(t,e){if(t)return t[e]();return Promise.reject({err:\"Script not loaded correctly, did you added the plugin or the client_id to the component?\"})},r={load:function(t){return Promise.all([i(t),new Promise((function(t,e){if(!document.getElementById(\"auth2_script_id\")){var n=document.createElement(\"script\");n.setAttribute(\"src\",\"https://apis.google.com/js/platform.js?onload=onGapiLoad\"),n.setAttribute(\"async\",!0),n.setAttribute(\"defer\",\"defer\"),n.setAttribute(\"id\",\"auth2_script_id\"),document.head.appendChild(n)}t()}))]).then((function(t){return t[0]}))},signIn:function(){return o(e,\"signIn\")},signOut:function(){return o(e,\"signOut\")},isSignedIn:function(){return o(e.isSignedIn,\"get\")},currentUser:function(){return o(e.currentUser,\"get\")},grantOfflineAccess:function(){return o(e,\"grantOfflineAccess\")}},s=0;var u=function(t,e,n,i,o,r,s,u,c,d){\"boolean\"!=typeof s&&(c=u,u=s,s=!1);var a,l=\"function\"==typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),i&&(l._scopeId=i),r?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=a):e&&(a=s?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),a)if(l.functional){var f=l.render;l.render=function(t,e){return a.call(e),f(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,a):[a]}return n}({render:function(){var t=this.$createElement,e=this._self._c||t;return this.renderParams&&!this.logoutButton?e(\"div\",{attrs:{id:this.id},on:{click:this.handleClick}}):e(\"button\",{attrs:{id:this.id},on:{click:this.handleClick}},[this._t(\"default\")],2)},staticRenderFns:[]},void 0,{name:\"GoogleLogin\",props:{params:{type:Object,required:!0},onCurrentUser:{type:Function,default:function(){}},onSuccess:{type:Function,default:function(){}},onFailure:{type:Function,default:function(){}},logoutButton:{type:Boolean,default:!1},renderParams:{type:Object,required:!1}},beforeCreate:function(){this.id=\"google-signin-btn-\".concat(s++)},methods:{handleClick:function(){var t=this,e=this.logoutButton?\"signOut\":\"signIn\";r[e]().then((function(e){return t.onSuccess(e)})).catch((function(e){return t.onFailure(e)}))}},mounted:function(){var t=this;r.load(this.params).then((function(){t.renderParams&&!1===t.logoutButton&&window.gapi.signin2.render(t.id,t.renderParams),r.isSignedIn()&&t.onCurrentUser(r.currentUser())})).catch((function(t){console.log(t)}))}},void 0,!1,void 0,void 0,void 0),c={install:function(t,e){t.GoogleAuth=r.load(e)}};t.GoogleLogin=u,t.LoaderPlugin=c,t.default=u,Object.defineProperty(t,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=vue-google-login.min.js.map\n"],"sourceRoot":""}