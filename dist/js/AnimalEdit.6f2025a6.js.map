{"version":3,"sources":["webpack:///./src/assets/donkey.jpg","webpack:///./src/assets/ehud-and-kfitz copy.jpg","webpack:///./src/views/AnimalEdit.vue?4738","webpack:///./src/assets/dog.jpg","webpack:///./src/assets sync ^\\.\\/.*\\.jpg$","webpack:///./src/helper-functions/animal-crud.ts","webpack:///./src/assets/register.jpg","webpack:///./src/assets/cat.jpg","webpack:///./src/assets/ehud-and-kfitz-cropped.jpg","webpack:///./src/assets/other.jpg","webpack:///./src/assets/horse.jpg","webpack:///./src/views/AnimalEdit.vue?cfa9","webpack:///./src/views/AnimalEdit.vue","webpack:///./src/views/AnimalEdit.vue?98ca","webpack:///./src/views/AnimalEdit.vue?2560","webpack:///./src/assets/cow.jpg","webpack:///./src/assets/pig.jpg","webpack:///./src/assets/login.jpg","webpack:///./src/assets/ehud-and-kfitz.jpg","webpack:///./src/assets/add-animal.jpg","webpack:///./src/assets/error.jpg"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","deleteAnimal","async","root","animalId","fromAnimalListPage","$store","dispatch","loadingStatus","confirmation","$swal","fire","title","text","icon","showCancelButton","confirmButtonText","buttonsStyling","customClass","confirmButton","cancelButton","isConfirmed","type","$router","push","name","error","width","padding","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","style","newAnimalType","toLowerCase","on","moveToAnimalDetails","_e","ref","model","value","callback","$$v","valid","expression","nameRules","newAnimalName","items","v","medicineTypeItems","newAnimalMedicineType","newAnimalDosage","Number","isInteger","newAnimalFrequency","timeUnitItems","newAnimalTimeUnit","validate","_v","deleteAnimalClicked","cancelHandler","staticRenderFns","props","document","readyState","isAnimals","getters","getAnimals","length","message","toString","window","onload","$route","params","animal","getAnimalById","console","log","medicineType","dosage","frequency","timeUnit","myForm","select","updateAnimal","moveToAnimalsList","updatedAnimalFields","_id","image_url","pushToAddAnimalPage","path","component"],"mappings":"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","file":"js/AnimalEdit.6f2025a6.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/donkey.04c9f50d.jpg\";","module.exports = __webpack_public_path__ + \"img/ehud-and-kfitz copy.3fe75c6b.jpg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimalEdit.vue?vue&type=style&index=0&id=04a41764&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimalEdit.vue?vue&type=style&index=0&id=04a41764&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/dog.9b79b5d7.jpg\";","var map = {\n\t\"./add-animal.jpg\": \"f322\",\n\t\"./cat.jpg\": \"927c\",\n\t\"./cow.jpg\": \"c666\",\n\t\"./dog.jpg\": \"2fe6\",\n\t\"./donkey.jpg\": \"158f\",\n\t\"./ehud-and-kfitz copy.jpg\": \"1749\",\n\t\"./ehud-and-kfitz-cropped.jpg\": \"9fa2\",\n\t\"./ehud-and-kfitz-cropped2.jpg\": \"293d\",\n\t\"./ehud-and-kfitz.jpg\": \"e401\",\n\t\"./error.jpg\": \"f6de\",\n\t\"./horse.jpg\": \"c295\",\n\t\"./login.jpg\": \"d0cf\",\n\t\"./other.jpg\": \"ac76\",\n\t\"./pig.jpg\": \"cd2c\",\n\t\"./register.jpg\": \"89ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"710a\";","// @ts-nocheck\n\nexport const deleteAnimal = async (\n  root,\n  animalId,\n  fromAnimalListPage = false\n) => {\n  root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n  try {\n    const confirmation = await root.$swal.fire({\n      title: \"Are you sure?\",\n      text: \"You won't be able to revert this animal deletion!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      // confirmButtonColor: \"#0457E7\",\n      // cancelButtonColor: \"#D62E1F\",\n      confirmButtonText: \"Delete\",\n      buttonsStyling: false,\n      customClass: {\n        confirmButton:\n          \"swal-btn v-btn v-btn--contained theme--light v-size--default\",\n        cancelButton:\n          \"swal-btn v-btn v-btn--contained theme--light v-size--default\",\n      },\n    });\n    if (!confirmation.isConfirmed) {\n      root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n      return;\n    }\n\n    await root.$store.dispatch({\n      type: \"deleteAnimal\",\n      animalId,\n    });\n    //SWAL is not needed - just annoying for users.\n    //Can be restored if needed later!.\n    // root.$swal.fire({\n    //   title: \"Animal deleted successfully!\",\n    //   confirmButtonColor: \"#0457E7\",\n    //   icon: \"success\",\n    //   width: 600,\n    //   padding: \"3em\",\n    //   background: \"#fff\",\n    // });\n    if (!fromAnimalListPage) {\n      root.$router.push({\n        name: \"AnimalsList\",\n      });\n    }\n  } catch (error) {\n    root.$swal.fire({\n      title: \"Error: animal not deleted!\",\n      text: \"Please try again at a later time.\",\n      // confirmButtonColor: \"#D62E1F\",\n      icon: \"error\",\n      width: 600,\n      padding: \"3em\",\n      buttonsStyling: false,\n      customClass: {\n        confirmButton:\n          \"swal-btn v-btn v-btn--contained theme--light v-size--default\",\n      },\n      // background: \"#fff\",\n    });\n  }\n  root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n};\n","module.exports = __webpack_public_path__ + \"img/register.e3ace350.jpg\";","module.exports = __webpack_public_path__ + \"img/cat.3537598e.jpg\";","module.exports = __webpack_public_path__ + \"img/ehud-and-kfitz-cropped.ae4641f6.jpg\";","module.exports = __webpack_public_path__ + \"img/other.64cf9054.jpg\";","module.exports = __webpack_public_path__ + \"img/horse.6b477ac1.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.animal)?_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"1032\"}},[_c('v-list-item'),(_vm.newAnimalType)?_c('v-img',{style:('cursor: pointer'),attrs:{\"src\":require((\"@/assets/\" + (_vm.newAnimalType.toLowerCase()) + \".jpg\")),\"alt\":\"Avatar\",\"max-height\":\"500\"},on:{\"click\":_vm.moveToAnimalDetails}}):_vm._e(),_c('v-form',{ref:\"myForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"counter\":10,\"rules\":_vm.nameRules,\"label\":\"Name\",\"required\":\"\"},model:{value:(_vm.newAnimalName),callback:function ($$v) {_vm.newAnimalName=$$v},expression:\"newAnimalName\"}}),_c('v-select',{attrs:{\"items\":_vm.items,\"rules\":[function (v) { return !!v || 'Category is required'; }],\"label\":\"Category\",\"required\":\"\"},model:{value:(_vm.newAnimalType),callback:function ($$v) {_vm.newAnimalType=$$v},expression:\"newAnimalType\"}}),_c('v-select',{attrs:{\"items\":_vm.medicineTypeItems,\"label\":\"Medicine Type\",\"clearable\":\"\"},model:{value:(_vm.newAnimalMedicineType),callback:function ($$v) {_vm.newAnimalMedicineType=$$v},expression:\"newAnimalMedicineType\"}}),_c('v-text-field',{attrs:{\"rules\":[\n          function (v) { return v >= 1 ||\n            v === '' ||\n            'Dosage must be a NUMBER that is 1 or greater'; } ],\"label\":\"Dosage\",\"type\":\"number\"},model:{value:(_vm.newAnimalDosage),callback:function ($$v) {_vm.newAnimalDosage=$$v},expression:\"newAnimalDosage\"}}),_c('v-text-field',{attrs:{\"rules\":[\n          function (v) { return (v >= 1 && Number.isInteger(+v)) ||\n            v === '' ||\n            'Frequency must be an integer NUMBER that is 1 or greater'; } ],\"label\":\"Frequency\",\"type\":\"number\"},model:{value:(_vm.newAnimalFrequency),callback:function ($$v) {_vm.newAnimalFrequency=$$v},expression:\"newAnimalFrequency\"}}),_c('v-select',{attrs:{\"items\":_vm.timeUnitItems,\"label\":\"Time Unit\",\"clearable\":\"\"},model:{value:(_vm.newAnimalTimeUnit),callback:function ($$v) {_vm.newAnimalTimeUnit=$$v},expression:\"newAnimalTimeUnit\"}}),_c('div',{staticClass:\"btns-container\"},[(_vm.valid && _vm.newAnimalName !== '' && _vm.newAnimalType !== '')?_c('v-btn',{staticClass:\"validate-btn\",on:{\"click\":_vm.validate}},[_vm._v(\" Save \")]):_vm._e(),_c('v-btn',{on:{\"click\":_vm.deleteAnimalClicked}},[_vm._v(\" Delete \")])],1),_c('div',{staticClass:\"cancel-btn-container\"},[_c('v-btn',{on:{\"click\":_vm.cancelHandler}},[_vm._v(\" Cancel \")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// @ts-nocheck\n\nimport {\n  computed,\n  defineComponent,\n  onBeforeMount,\n  onMounted,\n  reactive,\n  ref,\n} from \"@vue/composition-api\";\nimport { deleteAnimal } from \"@/helper-functions/animal-crud\";\n\nexport default defineComponent({\n  name: \"AnimalEdit\",\n  setup(props, { root }) {\n    //check if i can put the code of mount and before mount in some function and only call it in all the component instead duplicate code.\n\n    onBeforeMount(async () => {\n      if (document.readyState !== \"complete\") {\n        root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n      }\n      // try {\n      // await root.$store.dispatch(\"fetchAnimals\");\n      const isAnimals = root.$store.getters.getAnimals.length !== 0;\n      if (!isAnimals) {\n        try {\n          await root.$store.dispatch(\"fetchAnimals\");\n        } catch (error) {\n          root.$swal.fire({\n            title: \"Error: animal not fetched!\",\n            text: error.message.toString(),\n            // confirmButtonColor: \"#D62E1F\",\n            icon: \"error\",\n            width: 600,\n            padding: \"3em\",\n            // background: \"#fff\",\n            buttonsStyling: false,\n            customClass: {\n              confirmButton:\n                \"swal-btn v-btn v-btn--contained theme--light v-size--default\",\n            },\n          });\n        }\n      }\n      // if (document.readyState !== \"complete\") {\n      //   root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n      // }\n      // const isAnimals = root.$store.getters.getAnimals.length !== 0;\n      // if (!isAnimals) {\n      // await root.$store.dispatch(\"fetchAnimals\");\n      // }\n      // }\n      // } catch (error) {\n      //   console.log(error);\n      // }\n    });\n\n    onMounted(() => {\n      window.onload = async () => {\n        root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n      };\n    });\n\n    const animalId = root.$route.params.animalId;\n    const animal = computed(() => root.$store.getters.getAnimalById(animalId));\n\n    if (!animal.value) {\n      console.log(\"\");\n    }\n\n    //Later try to set that when the edit page is loaded that the values of the controls will not be empty -\n    // but with the current animal's details from the db - all the time, even on refresh or loading from url directly.\n\n    const newAnimalName = animal.value ? ref(animal.value.name) : ref(\"\");\n    const newAnimalType = animal.value ? ref(animal.value.type) : ref(\"\");\n    const newAnimalMedicineType =\n      animal.value && animal.value.medicineType\n        ? ref(animal.value.medicineType)\n        : ref(\"\");\n    const newAnimalDosage =\n      animal.value && animal.value.dosage ? ref(animal.value.dosage) : ref(\"\");\n    const newAnimalFrequency =\n      animal.value && animal.value.frequency\n        ? ref(animal.value.frequency)\n        : ref(\"\");\n    const newAnimalTimeUnit =\n      animal.value && animal.value.timeUnit\n        ? ref(animal.value.timeUnit)\n        : ref(\"\");\n\n    const myForm = ref(null);\n    const valid = ref(true);\n    const name = ref(\"\");\n    const nameRules = reactive([\n      (v) => !!v || \"Name is required\",\n      (v) => (v && v.length <= 10) || \"Name must be less than 10 characters\",\n    ]);\n    const select = ref(null);\n    const items = reactive([\n      \"Cat\",\n      \"Dog\",\n      \"Pig\",\n      \"Cow\",\n      \"Horse\",\n      \"Donkey\",\n      \"Other\",\n    ]);\n\n    const medicineTypeItems = reactive([\n      \"Convenia\",\n      \"Superflex\",\n      \"Tsistophan\",\n      \"Cinolux\",\n      \"Doxilin\",\n      \"Activile\",\n      \"Other\",\n    ]);\n\n    const timeUnitItems = reactive([\"Day\", \"Week\", \"Month\", \"Year\"]);\n\n    const validate = () => {\n      const valid = myForm.value.validate();\n      if (valid) {\n        updateAnimal();\n      }\n    };\n\n    const cancelHandler = () => {\n      moveToAnimalsList();\n    };\n\n    // const reset = () => {\n    //   myForm.value.reset();\n    // };\n    //\n    // const resetValidation = () => {\n    //   myForm.value.resetValidation();\n    // };\n\n    const updateAnimal = async () => {\n      root.$store.dispatch(\"togLoading\", { loadingStatus: true });\n      const updatedAnimalFields = {\n        _id: animalId,\n        name: newAnimalName.value ? newAnimalName.value : newAnimalName,\n        type: newAnimalType.value ? newAnimalType.value : newAnimalType,\n        medicineType: newAnimalMedicineType.value\n          ? newAnimalMedicineType.value\n          : \"\",\n        dosage:\n          newAnimalDosage.value &&\n          newAnimalDosage.value !== 0 &&\n          newAnimalDosage.value !== \"\"\n            ? +newAnimalDosage.value\n            : 0,\n        frequency:\n          newAnimalFrequency.value &&\n          newAnimalFrequency.value !== 0 &&\n          newAnimalFrequency.value !== \"\"\n            ? +newAnimalFrequency.value\n            : 0,\n        timeUnit: newAnimalTimeUnit.value ? newAnimalTimeUnit.value : \"\",\n        image_url: animal.value.image_url ? animal.value.image_url : null,\n      };\n\n      try {\n        await root.$store.dispatch({\n          type: \"updateAnimal\",\n          updatedAnimalFields,\n        });\n\n        moveToAnimalDetails();\n      } catch (error) {\n        root.$swal.fire({\n          title: \"Error: animal not updated!\",\n          text: error.message.toString(),\n          // confirmButtonColor: \"#D62E1F\",\n          icon: \"error\",\n          width: 600,\n          padding: \"3em\",\n          // background: \"#fff\",\n          buttonsStyling: false,\n          customClass: {\n            confirmButton:\n              \"swal-btn v-btn v-btn--contained theme--light v-size--default\",\n          },\n        });\n      }\n\n      root.$store.dispatch(\"togLoading\", { loadingStatus: false });\n    };\n\n    function pushToAddAnimalPage() {\n      root.$router.push({\n        path: \"/animals/add\",\n      });\n    }\n    //use it from a global function later cause it's in more than one component.\n    const moveToAnimalDetails = () => {\n      root.$router.push({\n        name: \"AnimalDetails\",\n        params: { animalId },\n      });\n    };\n\n    const moveToAnimalsList = () => {\n      root.$router.push({\n        name: \"AnimalsList\",\n      });\n    };\n\n    const deleteAnimalClicked = () => {\n      deleteAnimal(root, animalId);\n    };\n\n    return {\n      animal,\n      newAnimalName,\n      newAnimalType,\n      newAnimalMedicineType,\n      newAnimalTimeUnit,\n      newAnimalDosage,\n      newAnimalFrequency,\n      myForm,\n      valid,\n      name,\n      nameRules,\n      select,\n      items,\n      medicineTypeItems,\n      timeUnitItems,\n      validate,\n      cancelHandler,\n      pushToAddAnimalPage,\n      moveToAnimalDetails,\n      moveToAnimalsList,\n      deleteAnimalClicked,\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimalEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimalEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AnimalEdit.vue?vue&type=template&id=04a41764&scoped=true&\"\nimport script from \"./AnimalEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./AnimalEdit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AnimalEdit.vue?vue&type=style&index=0&id=04a41764&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a41764\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/cow.5b0d0b26.jpg\";","module.exports = __webpack_public_path__ + \"img/pig.dce921f5.jpg\";","module.exports = __webpack_public_path__ + \"img/login.5e32f028.jpg\";","module.exports = __webpack_public_path__ + \"img/ehud-and-kfitz.282c6767.jpg\";","module.exports = __webpack_public_path__ + \"img/add-animal.abf51dc3.jpg\";","module.exports = __webpack_public_path__ + \"img/error.8f20e169.jpg\";"],"sourceRoot":""}